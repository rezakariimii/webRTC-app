"use strict";!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.websdk=e():r.websdk=e()}(this,(function(){return(this.webpackChunkwebsdk=this.webpackChunkwebsdk||[]).push([[194],{2856:function(r,e,t){t.r(e),t.d(e,{acceptGroupInvite:function(){return X},acceptGroupJoinRequest:function(){return Z},addUsersToGroupAllowlist:function(){return mr},addUsersToGroupWhitelist:function(){return hr},agreeInviteIntoGroup:function(){return z},agreeJoinGroup:function(){return w},blockGroup:function(){return d},blockGroupMember:function(){return tr},blockGroupMembers:function(){return ar},blockGroupMessages:function(){return g},changeGroupOwner:function(){return I},changeOwner:function(){return T},createGroup:function(){return l},createGroupNew:function(){return p},deleteGroupSharedFile:function(){return Nr},destroyGroup:function(){return U},disableSendGroupMsg:function(){return dr},dissolveGroup:function(){return N},downloadGroupSharedFile:function(){return br},enableSendGroupMsg:function(){return gr},fetchGroupAnnouncement:function(){return _r},fetchGroupSharedFileList:function(){return Ur},getGroup:function(){return f},getGroupAdmin:function(){return j},getGroupAllowlist:function(){return Er},getGroupBlacklist:function(){return pr},getGroupBlacklistNew:function(){return ur},getGroupBlocklist:function(){return lr},getGroupInfo:function(){return E},getGroupMsgReadUser:function(){return kr},getGroupMuteList:function(){return $},getGroupMutelist:function(){return rr},getGroupSharedFilelist:function(){return Pr},getGroupWhitelist:function(){return Ir},getJoinedGroups:function(){return y},getMuted:function(){return Y},getPublicGroups:function(){return m},groupBlockMulti:function(){return or},groupBlockSingle:function(){return er},inviteToGroup:function(){return M},inviteUsersToGroup:function(){return O},isGroupWhiteUser:function(){return vr},isInGroupAllowlist:function(){return Ar},isInGroupMutelist:function(){return jr},isInGroupWhiteList:function(){return Sr},joinGroup:function(){return C},leaveGroup:function(){return b},listGroupMember:function(){return S},listGroupMembers:function(){return A},listGroups:function(){return h},modifyGroup:function(){return v},mute:function(){return H},muteGroupMember:function(){return V},quitGroup:function(){return P},rejectGroupInvite:function(){return D},rejectGroupJoinRequest:function(){return x},rejectInviteIntoGroup:function(){return L},rejectJoinGroup:function(){return B},removeAdmin:function(){return R},removeGroupAdmin:function(){return G},removeGroupAllowlistMember:function(){return Tr},removeGroupBlockMulti:function(){return cr},removeGroupBlockSingle:function(){return nr},removeGroupMember:function(){return J},removeGroupMembers:function(){return K},removeGroupWhitelistMember:function(){return yr},removeMultiGroupMember:function(){return W},removeMute:function(){return q},removeSingleGroupMember:function(){return F},rmUsersFromGroupWhitelist:function(){return fr},setAdmin:function(){return k},setGroupAdmin:function(){return _},unblockGroupMember:function(){return sr},unblockGroupMembers:function(){return ir},unmuteGroupMember:function(){return Q},updateGroupAnnouncement:function(){return Rr},uploadGroupSharedFile:function(){return Gr}}),t(1539),t(8674),t(2222),t(6699),t(2023),t(9554),t(4747),t(8309),t(2526),t(1817),t(9753),t(9600),t(2165),t(6992),t(8783),t(3948);var o=t(5531),a=t(7252),n=t(4370),s=t(3246),c=t(7360),i=t(1595);function u(r){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(r)}function p(r){if(!r||!r.data)throw Error("Invalid parameter");if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups?resource=").concat(d.clientResource),dataType:"json",type:"POST",data:JSON.stringify({owner:this.user,groupname:r.data.groupname,desc:r.data.desc,members:r.data.members,public:r.data.public,approval:r.data.approval,allowinvites:r.data.allowinvites,invite_need_confirm:r.data.inviteNeedConfirm,maxusers:r.data.maxusers,custom:r.data.ext}),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:function(e){r.success&&r.success(e)},error:r.error};return c.kg.debug("Call createGroup:",r),n.hj.call(this,g,i.fI.CREATE_GROUP)}var l=p;function d(r){var e;if("string"!=typeof r.groupId||""===r.groupId)throw Error("Invalid parameter");if(!s.XZ.call(this)){var t=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var u=this.context,p=u.orgName,l=u.appName,d=u.accessToken,g=u.jid,h={entities:[(e={},e["notification_ignore_"+r.groupId]=!0,e)]},m={type:"PUT",url:"".concat(this.apiUrl,"/").concat(p,"/").concat(l,"/users/").concat(this.user,"?resource=").concat(g.clientResource),data:JSON.stringify(h),dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call blockGroupMessages",r),n.hj.call(this,m,i.fI.BLOCK_GROUP)}var g=d;function h(r){if("number"!=typeof r.limit)throw Error("Invalid parameter");if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d={limit:r.limit,cursor:r.cursor};r.cursor||delete d.cursor;var g={url:this.apiUrl+"/"+u+"/"+p+"/publicchatgroups",type:"GET",dataType:"json",data:d,headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call listGroups",r),n.hj.call(this,g,i.fI.LIST_GROUP)}var m=h;function f(r){if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d={url:this.apiUrl+"/"+u+"/"+p+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r&&(null==r?void 0:r.success),error:r&&(null==r?void 0:r.error)};return c.kg.debug("Call getJoinedGroups",r),n.hj.call(this,d,i.fI.GET_USER_GROUP)}function y(r){if("number"!=typeof r.pageNum||"number"!=typeof r.pageSize)throw Error('Invalid parameter: "pageNum or pageSize"');if(r.pageNum<0||r.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.needAffiliations||r.needRole?"/chatgroups/user/".concat(this.user,"?pagenum=").concat(r.pageNum,"&pagesize=").concat(r.pageSize,"&needAffiliations=").concat(r.needAffiliations,"&needRole=").concat(r.needRole):"/users/".concat(this.user,"/joined_chatgroups?pagenum=").concat(r.pageNum,"&pagesize=").concat(r.pageSize),g={url:this.apiUrl+"/"+u+"/"+p+d,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r&&(null==r?void 0:r.success),error:r&&(null==r?void 0:r.error)};return c.kg.debug("Call getGroup",r),n.hj.call(this,g,i.fI.GET_USER_GROUP).then((function(r){var e=r.uri,t=r.entities,o=[];return e.includes("joined_chatgroups")||(t.forEach((function(r){var e={affiliationsCount:r.affiliations_count,groupName:r.name,groupId:r.groupId,role:r.permission,disabled:r.disabled,approval:r.membersonly,allowInvites:r.allowinvites,description:r.description,maxUsers:r.maxusers,public:r.public};o.push(e)})),r.entities=o),r}))}function T(r){if("string"!=typeof r.groupId||"string"!=typeof r.newOwner)throw Error("Invalid parameter");if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t={newowner:r.newOwner},u=this.context,p=u.orgName,l=u.appName,d=u.accessToken,g=u.jid,h={url:"".concat(this.apiUrl,"/").concat(p,"/").concat(l,"/chatgroups/").concat(r.groupId,"?resource=").concat(g.clientResource),type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},data:JSON.stringify(t),success:r.success,error:r.error};return c.kg.debug("Call changeOwner",r),n.hj.call(this,h,i.fI.CHANGE_OWNER)}var I=T;function E(r){if("string"!=typeof r.groupId&&!Array.isArray(r.groupId))throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+r.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call getGroupInfo",r),n.hj.call(this,d,i.fI.GET_GROUP_INFO)}function v(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error("Invalid parameter");if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={groupname:r.groupName,description:r.description,custom:r.ext},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"?resource=").concat(d.clientResource),type:"PUT",data:JSON.stringify(h),dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call modifyGroup",r),n.hj.call(this,m,i.fI.MODIFY_GROUP)}function S(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(isNaN(r.pageNum)||r.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(r.pageSize)||r.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t={pagenum:r.pageNum,pagesize:r.pageSize},u=this.context,p=u.orgName,l=u.appName,d=u.accessToken,g={url:this.apiUrl+"/"+p+"/"+l+"/chatgroups/"+r.groupId+"/users",dataType:"json",type:"GET",data:t,headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call listGroupMember",r),n.hj.call(this,g,i.fI.LIST_GROUP_MEMBER)}var A=S;function j(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.groupId,g={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+d+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call getGroupAdmin",r),n.hj.call(this,g,i.fI.GET_GROUP_ADMIN)}function k(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.username||""===r.username)throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={newadmin:r.username},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/admin?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call setGroupAdmin",r),n.hj.call(this,m,i.fI.SET_GROUP_ADMIN)}var _=k;function R(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.username||""===r.username)throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.username,m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/admin/").concat(h,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call removeAdmin",r),n.hj.call(this,m,i.fI.REMOVE_GROUP_ADMIN)}var G=R;function N(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"?version=v3&resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call destroyGroup",r),n.hj.call(this,h,i.fI.DISSOLVE_GROUP)}var U=N;function P(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/quit?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call quitGroup",r),n.hj.call(this,h,i.fI.QUIT_GROUP)}var b=P;function M(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(r.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=r.groupId,u={usernames:r.users},p=this.context,l=p.orgName,d=p.appName,g=p.accessToken,h=p.jid,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(d,"/chatgroups/").concat(t,"/invite?resource=").concat(h.clientResource),type:"POST",data:JSON.stringify(u),dataType:"json",headers:{Authorization:"Bearer "+g,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call inviteUsersToGroup",r),n.hj.call(this,m,i.fI.INVITE_TO_GROUP)}var O=M;function C(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(r.groupId,"/apply?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify({message:r.message||""}),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call joinGroup",r),n.hj.call(this,g,i.fI.JOIN_GROUP)}function w(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.applicant||""===r.applicant)throw Error('Invalid parameter: "applicant"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={applicant:r.applicant,verifyResult:!0,reason:"no clue"},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/apply_verify?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call agreeJoinGroup",r),n.hj.call(this,m,i.fI.AGREE_JOIN_GROUP)}var Z=w;function B(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.applicant||""===r.applicant)throw Error('Invalid parameter: "applicant"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={applicant:r.applicant,verifyResult:!1,reason:r.reason||""},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/apply_verify?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call rejectGroupJoinRequest",r),n.hj.call(this,m,i.fI.REJECT_JOIN_GROUP)}var x=B;function z(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.invitee||""===r.invitee)throw Error('Invalid parameter: "invitee"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={invitee:r.invitee,verifyResult:!0},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/invite_verify?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call acceptGroupInvite",r),n.hj.call(this,m,i.fI.AGREE_INVITE_GROUP)}var X=z;function L(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.invitee||""===r.invitee)throw Error('Invalid parameter: "invitee"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={invitee:r.invitee,verifyResult:!1},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/invite_verify?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call rejectGroupInvite",r),n.hj.call(this,m,i.fI.REJECT_INVITE_GROUP)}var D=L;function F(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.username||""===r.username)throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=r.groupId,u=r.username,p=this.context,l=p.orgName,d=p.appName,g=p.accessToken,h=p.jid,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(d,"/chatgroups/").concat(t,"/users/").concat(u,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+g,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call removeGroupMember",r),n.hj.call(this,m,i.fI.REMOVE_GROUP_MEMBER)}var J=F;function W(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(r.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.users.join(","),m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/users/").concat(h,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call removeGroupMembers",r),n.hj.call(this,m,i.fI.MULTI_REMOVE_GROUP_MEMBER)}var K=W;function H(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(r.username)||"string"==typeof r.username&&""!==r.username))throw Error('Invalid parameter: "username"');if("number"!=typeof r.muteDuration)throw Error('Invalid parameter: "muteDuration"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={usernames:"string"==typeof r.username?[r.username]:r.username,mute_duration:r.muteDuration},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/mute?resource=").concat(d.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},data:JSON.stringify(h),success:r.success,error:r.error};return c.kg.debug("Call muteGroupMember",r),n.hj.call(this,m,i.fI.MUTE_GROUP_MEMBER)}var V=H;function q(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(r.username)||"string"==typeof r.username&&""!==r.username))throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.username,m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/mute/").concat(h,"?resource=").concat(d.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call unmuteGroupMember",r),n.hj.call(this,m,i.fI.UNMUTE_GROUP_MEMBER)}var Q=q;function Y(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.groupId,g={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+d+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call getGroupMuteList",r),n.hj.call(this,g,i.fI.GET_GROUP_MUTE_LIST)}var $=Y,rr=Y;function er(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.username||""===r.username)throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.username,m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/blocks/users/").concat(h,"?resource=").concat(d.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call blockGroupMember",r),n.hj.call(this,m,i.fI.BLOCK_GROUP_MEMBER)}var tr=er;function or(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(r.usernames))throw Error('Invalid parameter: "usernames"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={usernames:r.usernames},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/blocks/users?resource=").concat(d.clientResource),data:JSON.stringify(h),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call blockGroupMembers",r),n.hj.call(this,m,i.fI.BLOCK_GROUP_MEMBERS)}var ar=or;function nr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.username||""===r.username)throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.username,m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/blocks/users/").concat(h,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call unblockGroupMember",r),n.hj.call(this,m,i.fI.UNBLOCK_GROUP_MEMBER)}var sr=nr;function cr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(r.usernames))throw Error('Invalid parameter: "usernames"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.usernames.join(","),m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/blocks/users/").concat(h,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call unblockGroupMembers",r),n.hj.call(this,m,i.fI.UNBLOCK_GROUP_MEMBERS)}var ir=cr;function ur(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.groupId,g={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+d+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call getGroupBlacklist",r),n.hj.call(this,g,i.fI.GET_GROUP_BLACK_LIST)}var pr=ur,lr=ur;function dr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/ban?resource=").concat(d.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call disableSendGroupMsg",r),n.hj.call(this,h,i.fI.DISABLED_SEND_GROUP_MSG)}function gr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/ban?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call enableSendGroupMsg",r),n.hj.call(this,h,i.fI.ENABLE_SEND_GROUP_MSG)}function hr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(r.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={usernames:r.users},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/white/users?resource=").concat(d.clientResource),type:"POST",data:JSON.stringify(h),dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call addUsersToGroupWhitelist",r),n.hj.call(this,m,i.fI.ADD_USERS_TO_GROUP_WHITE)}var mr=hr;function fr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.userName||""===r.userName)throw Error('Invalid parameter: "userName"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/white/users/").concat(r.userName,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call removeGroupAllowlistMember",r),n.hj.call(this,h,i.fI.REMOVE_GROUP_WHITE_MEMBER)}var yr=fr,Tr=fr;function Ir(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.groupId,g={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+d+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call getGroupAllowlist",r),n.hj.call(this,g,i.fI.GET_GROUP_WHITE_LIST)}var Er=Ir;function vr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.userName||""===r.userName)throw Error('Invalid parameter: "userName"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.groupId,g={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+d+"/white/users/"+r.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call isInGroupAllowlist",r),n.hj.call(this,g,i.fI.IS_IN_GROUP_WHITE_LIST)}var Sr=vr,Ar=vr;function jr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,i=t.orgName,u=t.appName,p=t.accessToken,l=t.userId,d={url:this.apiUrl+"/"+i+"/"+u+"/sdk/group/"+r.groupId+"/mute/"+l,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+p}};return c.kg.debug("Call isInGroupMutelist",r),n.hj.call(this,d).then((function(r){return r.data}))}function kr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.msgId||""===r.msgId)throw Error('Invalid parameter: "msgId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d={url:this.apiUrl+"/"+u+"/"+p+"/chatgroups/"+r.groupId+"/acks/"+r.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+l},success:r.success,error:r.error};return c.kg.debug("Call getGroupMsgReadUser",r),n.hj.call(this,d,i.fI.GET_GROUP_MSG_READ_USER)}function _r(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.groupId,g={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(d,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call fetchGroupAnnouncement",r),n.hj.call(this,g,i.fI.GET_GROUP_ANN)}function Rr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.announcement)throw Error('Invalid parameter: "announcement"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h={announcement:r.announcement},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/announcement?resource=").concat(d.clientResource),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call updateGroupAnnouncement",r),n.hj.call(this,m,i.fI.UPDATE_GROUP_ANN)}function Gr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("object"!==u(r.file))throw Error('Invalid parameter: "file"');if(s.XZ.call(this)){var e=this.context,t=e.orgName,o=e.appName,a=e.accessToken,p=e.jid,l=r.groupId;n.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(t,"/").concat(o,"/chatgroups/").concat(l,"/share_files?resource=").concat(p.clientResource),onFileUploadProgress:r.onFileUploadProgress,onFileUploadComplete:r.onFileUploadComplete,onFileUploadError:r.onFileUploadError,onFileUploadCanceled:r.onFileUploadCanceled,accessToken:a,apiUrl:this.apiUrl,file:r.file,appKey:this.context.appKey},i.fI.UPLOAD_GROUP_FILE),c.kg.debug("Call uploadGroupSharedFile",r)}}function Nr(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof r.fileId||""===r.fileId)throw Error('Invalid parameter: "file"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=t.jid,g=r.groupId,h=r.fileId,m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(g,"/share_files/").concat(h,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call deleteGroupSharedFile",r),n.hj.call(this,m,i.fI.DELETE_GROUP_FILE)}function Ur(r){if("string"!=typeof r.groupId||""===r.groupId)throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var e=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,u=t.orgName,p=t.appName,l=t.accessToken,d=r.pageNum||1,g=r.pageSize||10,h=r.groupId,m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(p,"/chatgroups/").concat(h,"/share_files?pagenum=").concat(d,"&pagesize=").concat(g),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:r.success,error:r.error};return c.kg.debug("Call getGroupSharedFilelist",r),n.hj.call(this,m,i.fI.GET_GROUP_FILE_LIST)}var Pr=Ur;function br(r){var e=this.context,t=e.orgName,o=e.appName,a=e.accessToken,s=this.apiUrl,u=r.groupId,p=r.fileId;n.LR.call(this,{url:"".concat(s,"/").concat(t,"/").concat(o,"/chatgroups/").concat(u,"/share_files/").concat(p),onFileDownloadComplete:r.onFileDownloadComplete,onFileDownloadError:r.onFileDownloadError,accessToken:a,id:p,secret:r.secret},i.fI.DOWN_GROUP_FILE),c.kg.debug("Call downloadGroupSharedFile",r)}},3246:function(r,e,t){t.d(e,{H7:function(){return u},XZ:function(){return c},_W:function(){return i}}),t(7941),t(9554),t(1539),t(4747),t(6699),t(2023);var o=t(5531),a=t(7252);function n(){var r=this.context.appName,e=this.context.orgName;return!(!r||!e)||(this.onError&&this.onError({type:o.E.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function s(){var r;if(!this.context.accessToken){var e=a.Z.create({type:o.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return this.onError&&this.onError(e),null===(r=this.eventHandler)||void 0===r||r.dispatch("onError",e),!1}return!0}function c(){return s.call(this)&&n.call(this)}function i(r){var e=r.data,t=r.type;return{data:{status:Object.keys(e.errorKeys).length>0?"fail":"success",errorKeys:e.errorKeys,successKeys:e.successKeys},type:t}}function u(r){var e=r.data,t=void 0;return Object.keys(e.errorKeys).length>0&&Object.keys(e.errorKeys).forEach((function(r){var n=e.errorKeys[r];t=n.includes("is not part of you")?a.Z.create({type:o.E.NO_PERMISSION,message:n}):n.includes("size of metadata for this single chatroom exceeds the user defined limit")||n.includes("total size of chatroom metadata for this app exceeds the user defined limit")||n.includes("is exceeding maximum limit")?a.Z.create({type:o.E.MAX_LIMIT,message:n}):n.includes("is not Legal")?a.Z.create({type:o.E.REQUEST_PARAMETER_ERROR,message:n}):n.includes("Failed to update userMetadata. Concurrent updates not allowed")?a.Z.create({type:o.E.OPERATION_NOT_ALLOWED,message:n}):a.Z.create({type:o.E.WEBIM_CONNCTION_AJAX_ERROR,message:n})})),t}}},function(r){return 2856,r(r.s=2856)}])}));